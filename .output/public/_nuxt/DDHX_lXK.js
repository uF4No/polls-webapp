const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B7fSQMBg.js","./B6x4_DXj.js","./entry.D9Q5xCZh.css"])))=>i.map(i=>d[i]);
import{aq as k,aH as V,aI as R,aJ as ce,aK as ne,aL as Be,aM as ve,aN as As,aO as _t,aP as at,aQ as ct,aR as G,aS as lr,aT as Ve,aU as pe,aV as pr,aW as Pe,aX as ze,aY as Bs,aZ as ut,a_ as st,a$ as Rt,b0 as Sn,b1 as kn,b2 as Nn,b3 as Tn,b4 as Cn,b5 as Fn,b6 as _n,b7 as Rn,b8 as Mt,at as Jt,b9 as Ps,ba as Is,ax as Se,bb as Ee,bc as $s,bd as Xt,be as hr,bf as Mn,aw as yr,bg as Ss,bh as ks,bi as Ns,bj as Ts,bk as Cs,bl as dt,bm as ee,f as ft,bn as Fs,bo as _s,bp as Rs,bq as lt,br as Ot,bs as re,bt as Ms,bu as Ue,bv as Os,bw as br,bx as zs,by as qs,bz as Ie,bA as mr,bB as Ds,bC as gr,bD as js,bE as On,bF as wr,bG as Ls,bH as Hs,bI as Gs,bJ as zn,bK as Zs,bL as Us,bM as Vs,bN as qn,bO as Ws,bP as Ks,bQ as Ys,bR as Js,bS as Xs,aD as Qs}from"./B6x4_DXj.js";function ue(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new po(e.type);return`${e.name}(${pt(e.inputs,{includeName:t})})`}function pt(e,{includeName:t=!1}={}){return e?e.map(n=>eo(n,{includeName:t})).join(t?", ":","):""}function eo(e,{includeName:t}){return e.type.startsWith("tuple")?`(${pt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class to extends k{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Dn extends k{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class vr extends k{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${pt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class ht extends k{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class no extends k{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ro extends k{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${V(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class so extends k{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Er extends k{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class oo extends k{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class xr extends k{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class jn extends k{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class it extends k{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ao extends k{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class io extends k{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ue(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ue(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class co extends k{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class We extends k{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${pt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class yt extends k{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ue(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class uo extends k{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class fo extends k{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class lo extends k{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class po extends k{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function qe(e,t){if(e.length!==t.length)throw new so({expectedLength:e.length,givenLength:t.length});const n=ho({params:e,values:t}),r=en(n);return r.length===0?"0x":r}function ho({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Qt({param:e[r],value:t[r]}));return n}function Qt({param:e,value:t}){const n=tn(e.type);if(n){const[r,s]=n;return bo(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Eo(t,{param:e});if(e.type==="address")return yo(t);if(e.type==="bool")return go(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return wo(t,{signed:r})}if(e.type.startsWith("bytes"))return mo(t,{param:e});if(e.type==="string")return vo(t);throw new uo(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function en(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=V(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(R(t+s,{size:32})),r.push(i),s+=V(i)):n.push(i)}return ce([...n,...r])}function yo(e){if(!ne(e))throw new Be({address:e});return{dynamic:!1,encoded:ve(e.toLowerCase())}}function bo(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new lo(e);if(!r&&e.length!==t)throw new no({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=Qt({param:n,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(r||s){const a=en(o);if(r){const i=R(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ce([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ce(o.map(({encoded:a})=>a))}}function mo(e,{param:t}){const[,n]=t.type.split("bytes"),r=V(e);if(!n){let s=e;return r%32!==0&&(s=ve(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ce([ve(R(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new ro({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:ve(e,{dir:"right"})}}function go(e){if(typeof e!="boolean")throw new k(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ve(As(e))}}function wo(e,{signed:t}){return{dynamic:!1,encoded:R(e,{size:32,signed:t})}}function vo(e){const t=_t(e),n=Math.ceil(V(t)/32),r=[];for(let s=0;s<n;s++)r.push(ve(at(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ce([ve(R(V(t),{size:32})),...r])}}function Eo(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=Qt({param:o,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?en(r):ce(r.map(({encoded:s})=>s))}}function tn(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const It="/docs/contract/encodeDeployData";function nn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new to({docsPath:It});if(!("inputs"in s))throw new Dn({docsPath:It});if(!s.inputs||s.inputs.length===0)throw new Dn({docsPath:It});const o=qe(s.inputs,n);return ct([r,o])}function xo(e){const t=G(`0x${e.substring(4)}`).substring(26);return lr(`0x${t}`)}async function Ao({hash:e,signature:t}){const n=Ve(e)?e:pe(e),{secp256k1:r}=await pr(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Lc);return{secp256k1:a}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),g=Ln(b);return new r.Signature(Pe(u),Pe(f)).addRecoveryBit(g)}const a=Ve(t)?t:pe(t),i=ze(`0x${a.slice(130)}`),c=Ln(i);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ln(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ar({hash:e,signature:t}){return xo(await Ao({hash:e,signature:t}))}function Bo(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,o=G(ct(["0x05",Bs([t?R(t):"0x",n,r?R(r):"0x"])]));return s==="bytes"?ut(o):o}async function Po(e){const{authorization:t,signature:n}=e;return Ar({hash:Bo(t),signature:n??t})}function Br(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof k?e.walk(s=>(s==null?void 0:s.code)===st.code):e;return r instanceof k?new st({cause:e,message:r.details}):st.nodeMessage.test(n)?new st({cause:e,message:e.details}):Rt.nodeMessage.test(n)?new Rt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Sn.nodeMessage.test(n)?new Sn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):kn.nodeMessage.test(n)?new kn({cause:e,nonce:t==null?void 0:t.nonce}):Nn.nodeMessage.test(n)?new Nn({cause:e,nonce:t==null?void 0:t.nonce}):Tn.nodeMessage.test(n)?new Tn({cause:e,nonce:t==null?void 0:t.nonce}):Cn.nodeMessage.test(n)?new Cn({cause:e}):Fn.nodeMessage.test(n)?new Fn({cause:e,gas:t==null?void 0:t.gas}):_n.nodeMessage.test(n)?new _n({cause:e,gas:t==null?void 0:t.gas}):Rn.nodeMessage.test(n)?new Rn({cause:e}):Mt.nodeMessage.test(n)?new Mt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Jt({cause:e})}function Pr(e,{format:t}){if(!t)return{};const n={};function r(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&r(o[i])}const s=t(e||{});return r(s),n}function F(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function rn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,a=t?Se(t):void 0;if(a&&!ne(a.address))throw new Be({address:a.address});if(o&&!ne(o))throw new Be({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Ps;if(r&&r>Is)throw new Rt({maxFeePerGas:r});if(s&&r&&s>r)throw new Mt({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Ir(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ze(t)}class Io extends k{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class sn extends k{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class $o extends k{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ee(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class $r extends k{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function te(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var f,d,l;const o=r??"latest",a=s??!1,i=n!==void 0?R(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||o,a]},{dedupe:!!i}),!c)throw new $r({blockHash:t,blockNumber:n});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.block)==null?void 0:l.format)||$s)(c)}async function on(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function So(e,t){return Sr(e,t)}async function Sr(e,t){var o,a;const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee);if(typeof i=="function"){const u=n||await F(e,te,"getBlock")({}),f=await i({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof i<"u")return i;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Pe(c)}catch{const[i,c]=await Promise.all([n?Promise.resolve(n):F(e,te,"getBlock")({}),F(e,on,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new sn;const u=c-i.baseFeePerGas;return u<0n?0n:u}}async function ko(e,t){return zt(e,t)}async function zt(e,t){var l,b;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>{var g,h;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(a<1)throw new Io;const c=10**(((l=a.toString().split(".")[1])==null?void 0:l.length)??0),u=g=>g*BigInt(Math.ceil(a*c))/BigInt(c),f=n||await F(e,te,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new sn;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Sr(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await F(e,on,"getGasPrice")({}))}}class No extends k{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var g;const b=Xt({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${hr(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Ee(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ee(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ee(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function To(e,{docsPath:t,...n}){const r=(()=>{const s=Br(e,n);return s instanceof Jt?e:s})();return new No(r,{docsPath:t,...n})}class Co extends k{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Fo extends k{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Hn(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function _o(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Hn(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Hn(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Gn(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Mn({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Mn({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Ro(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=R(t)),n!==void 0&&(a.nonce=R(n)),r!==void 0&&(a.state=Gn(r)),s!==void 0){if(a.state)throw new Fo;a.stateDiff=Gn(s)}return a}function kr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ne(n,{strict:!1}))throw new Be({address:n});if(t[n])throw new Co({address:n});t[n]=Ro(r)}return t}async function Nr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?R(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function an(e,t){var s,o,a;const{account:n=e.account}=t,r=n?Se(n):void 0;try{let P=function(I){const{block:T,request:_,rpcStateOverride:z}=I;return e.request({method:"eth_estimateGas",params:z?[_,T??"latest",z]:T?[_,T]:[_]})};const{accessList:i,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:b,gas:g,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:m,nonce:w,value:v,stateOverride:S,...B}=await Cr(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),x=(d?R(d):void 0)||l,A=kr(S),M=await(async()=>{if(B.to)return B.to;if(c&&c.length>0)return await Po({authorization:c[0]}).catch(()=>{throw new k("`to` is required. Could not infer from `authorizationList`")})})();rn(t);const N=(a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,O=(N||yr)({...Pr(B,{format:N}),from:r==null?void 0:r.address,accessList:i,authorizationList:c,blobs:u,blobVersionedHashes:f,data:b,gas:g,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:m,nonce:w,to:M,value:v});let $=BigInt(await P({block:x,request:O,rpcStateOverride:A}));if(c){const I=await Nr(e,{address:O.from}),T=await Promise.all(c.map(async _=>{const{contractAddress:z}=_,q=await P({block:x,request:{authorizationList:void 0,data:b,from:r==null?void 0:r.address,to:z,value:R(I)},rpcStateOverride:A}).catch(()=>100000n);return 2n*BigInt(q)}));$+=T.reduce((_,z)=>_+z,0n)}return $}catch(i){throw To(i,{...t,account:r,chain:e.chain})}}async function Tr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?R(r):n]},{dedupe:!!r});return ze(s)}const Mo=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Cr(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:a,nonce:i,nonceManager:c,parameters:u=Mo,type:f}=t,d=n&&Se(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let b;async function g(){return b||(b=await F(e,te,"getBlock")({blockTag:"latest"}),b)}let h;async function p(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await F(e,Ir,"getChainId")({}),h))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&a){const y=Ss({blobs:r,kzg:a});if(u.includes("blobVersionedHashes")){const m=ks({commitments:y,to:"hex"});l.blobVersionedHashes=m}if(u.includes("sidecars")){const m=Ns({blobs:r,commitments:y,kzg:a}),w=Ts({blobs:r,commitments:y,proofs:m,to:"hex"});l.sidecars=w}}if(u.includes("chainId")&&(l.chainId=await p()),u.includes("nonce")&&typeof i>"u"&&d)if(c){const y=await p();l.nonce=await c.consume({address:d.address,chainId:y,client:e})}else l.nonce=await F(e,Tr,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=Cs(l)}catch{const y=await g();l.type=typeof(y==null?void 0:y.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const y=await g(),{maxFeePerGas:m,maxPriorityFeePerGas:w}=await zt(e,{block:y,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new $o({maxPriorityFeePerGas:w});l.maxPriorityFeePerGas=w,l.maxFeePerGas=m}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new sn;const y=await g(),{gasPrice:m}=await zt(e,{block:y,chain:s,request:l,type:"legacy"});l.gasPrice=m}return u.includes("gas")&&typeof o>"u"&&(l.gas=await F(e,an,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),rn(l),delete l.parameters,l}async function Oo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const qt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Fr=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],_r=[...Fr,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],zo=[...Fr,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Zn=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Un=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Vn=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function qo(e,t={}){typeof t.size<"u"&&dt(e,{size:t.size});const n=ee(e,t);return Pe(n,t)}function Do(e,t={}){let n=e;if(typeof t.size<"u"&&(dt(n,{size:t.size}),n=ft(n)),n.length>1||n[0]>1)throw new Fs(n);return!!n[0]}function ie(e,t={}){typeof t.size<"u"&&dt(e,{size:t.size});const n=ee(e,t);return ze(n,t)}function jo(e,t={}){let n=e;return typeof t.size<"u"&&(dt(n,{size:t.size}),n=ft(n,{dir:"right"})),new TextDecoder().decode(n)}function bt(e,t){const n=typeof t=="string"?ut(t):t,r=_s(n);if(V(n)===0&&e.length>0)throw new ht;if(V(t)&&V(t)<32)throw new vr({data:typeof t=="string"?t:ee(t),params:e,size:V(t)});let s=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];r.setPosition(s);const[c,u]=Fe(r,i,{staticPosition:0});s+=u,o.push(c)}return o}function Fe(e,t,{staticPosition:n}){const r=tn(t.type);if(r){const[s,o]=r;return Ho(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Vo(e,t,{staticPosition:n});if(t.type==="address")return Lo(e);if(t.type==="bool")return Go(e);if(t.type.startsWith("bytes"))return Zo(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Uo(e,t);if(t.type==="string")return Wo(e,{staticPosition:n});throw new fo(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Wn=32,Dt=32;function Lo(e){const t=e.readBytes(32);return[lr(ee(Rs(t,-20))),32]}function Ho(e,t,{length:n,staticPosition:r}){if(!n){const a=ie(e.readBytes(Dt)),i=r+a,c=i+Wn;e.setPosition(i);const u=ie(e.readBytes(Wn)),f=Ke(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[g,h]=Fe(e,t,{staticPosition:c});d+=h,l.push(g)}return e.setPosition(r+32),[l,32]}if(Ke(t)){const a=ie(e.readBytes(Dt)),i=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[f]=Fe(e,t,{staticPosition:i});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let a=0;a<n;++a){const[i,c]=Fe(e,t,{staticPosition:r+s});s+=c,o.push(i)}return[o,s]}function Go(e){return[Do(e.readBytes(32),{size:32}),32]}function Zo(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=ie(e.readBytes(32));e.setPosition(n+a);const i=ie(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[ee(c),32]}return[ee(e.readBytes(Number.parseInt(s),32)),32]}function Uo(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?qo(s,{signed:n}):ie(s,{signed:n}),32]}function Vo(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let o=0;if(Ke(t)){const a=ie(e.readBytes(Dt)),i=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+o);const[f,d]=Fe(e,u,{staticPosition:i});o+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,u]=Fe(e,i,{staticPosition:n});s[r?a:i==null?void 0:i.name]=c,o+=u}return[s,o]}function Wo(e,{staticPosition:t}){const n=ie(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ie(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=jo(ft(o));return e.setPosition(t+32),[a,32]}function Ke(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ke);const n=tn(e.type);return!!(n&&Ke({...e,type:n[1]}))}const Ko=e=>G(lt(e));function Yo(e){return Ko(e)}const Jo="1.0.6";class Z extends Error{constructor(t,n={}){var a;const r=n.cause instanceof Z?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof Z&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Jo}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}}function ye(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Rr=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Mr=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Or=/^\(.+?\).*?$/,Kn=/^tuple(?<array>(\[(\d*)\])*)$/;function jt(e){let t=e.type;if(Kn.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=jt(o),s<n-1&&(t+=", ")}const r=ye(Kn,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,jt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function He(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=jt(s),r!==n-1&&(t+=", ")}return t}function Xo(e){return e.type==="function"?`function ${e.name}(${He(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${He(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${He(e.inputs)})`:e.type==="error"?`error ${e.name}(${He(e.inputs)})`:e.type==="constructor"?`constructor(${He(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const zr=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Qo(e){return zr.test(e)}function ea(e){return ye(zr,e)}const qr=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ta(e){return qr.test(e)}function na(e){return ye(qr,e)}const Dr=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ra(e){return Dr.test(e)}function sa(e){return ye(Dr,e)}const jr=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Lr(e){return jr.test(e)}function oa(e){return ye(jr,e)}const Hr=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function aa(e){return Hr.test(e)}function ia(e){return ye(Hr,e)}const ca=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function ua(e){return ca.test(e)}const da=/^receive\(\) external payable$/;function fa(e){return da.test(e)}const la=new Set(["indexed"]),Lt=new Set(["calldata","memory","storage"]);class pa extends Z{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class ha extends Z{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ya extends Z{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class ba extends Z{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ma extends Z{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class ga extends Z{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class wa extends Z{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ze extends Z{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class va extends Z{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Ea extends Z{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class xa extends Z{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Aa extends Z{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ba(e,t){return t?`${t}:${e}`:e}const $t=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Pa(e,t={}){if(ra(e)){const n=sa(e);if(!n)throw new Ze({signature:e,type:"function"});const r=Q(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ge(r[i],{modifiers:Lt,structs:t,type:"function"}));const a=[];if(n.returns){const i=Q(n.returns),c=i.length;for(let u=0;u<c;u++)a.push(ge(i[u],{modifiers:Lt,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}if(ta(e)){const n=na(e);if(!n)throw new Ze({signature:e,type:"event"});const r=Q(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(ge(r[a],{modifiers:la,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(Qo(e)){const n=ea(e);if(!n)throw new Ze({signature:e,type:"error"});const r=Q(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(ge(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(aa(e)){const n=ia(e);if(!n)throw new Ze({signature:e,type:"constructor"});const r=Q(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(ge(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(ua(e))return{type:"fallback"};if(fa(e))return{type:"receive",stateMutability:"payable"};throw new va({signature:e})}const Ia=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,$a=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Sa=/^u?int$/;function ge(e,t){var d,l;const n=Ba(e,t==null?void 0:t.type);if($t.has(n))return $t.get(n);const r=Or.test(e),s=ye(r?$a:Ia,e);if(!s)throw new ya({param:e});if(s.name&&Na(s.name))throw new ba({param:e,name:s.name});const o=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const b=Q(s.type),g=[],h=b.length;for(let p=0;p<h;p++)g.push(ge(b[p],{structs:i}));u={components:g}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(Sa.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Gr(c))throw new ha({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new ma({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Lt.has(s.modifier)&&!Ta(c,!!s.array))throw new ga({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...a,...u};return $t.set(n,f),f}function Q(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const a=e[o],i=e.slice(o+1);switch(a){case",":return r===0?Q(i,[...t,n.trim()]):Q(i,t,`${n}${a}`,r);case"(":return Q(i,t,`${n}${a}`,r+1);case")":return Q(i,t,`${n}${a}`,r-1);default:return Q(i,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new Aa({current:n,depth:r});return t.push(n.trim()),t}function Gr(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Rr.test(e)||Mr.test(e)}const ka=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Na(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Rr.test(e)||Mr.test(e)||ka.test(e)}function Ta(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Ca(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!Lr(i))continue;const c=oa(i);if(!c)throw new Ze({signature:i,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const g=u[l].trim();if(!g)continue;const h=ge(g,{type:"struct"});f.push(h)}if(!f.length)throw new Ea({signature:i});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let a=0;a<o;a++){const[i,c]=s[a];r[i]=Zr(c,t)}return r}const Fa=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Zr(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const a=e[o];if(Or.test(a.type))r.push(a);else{const c=ye(Fa,a.type);if(!(c!=null&&c.type))throw new wa({abiParameter:a});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new xa({type:f});r.push({...a,type:`tuple${u??""}`,components:Zr(t[f]??[],t,new Set([...n,f]))})}else if(Gr(f))r.push(a);else throw new pa({type:f})}}return r}function Ur(e){const t=Ca(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Lr(o)||n.push(Pa(o,t))}return n}function _a(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new k("Unable to normalize signature.");return s}const Ra=e=>{const t=typeof e=="string"?e:Xo(e);return _a(t)};function Vr(e){return Yo(Ra(e))}const mt=Vr,cn=e=>at(Vr(e),0,4);function Xe(e){const{abi:t,args:n=[],name:r}=e,s=Ve(r,{strict:!1}),o=t.filter(i=>s?i.type==="function"?cn(i)===r:i.type==="event"?mt(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in i&&i.inputs[f];return d?Ht(u,d):!1})){if(a&&"inputs"in a&&a.inputs){const u=Wr(i.inputs,a.inputs,n);if(u)throw new io({abiItem:i,type:u[0]},{abiItem:a,type:u[1]})}a=i}}return a||o[0]}function Ht(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ne(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Ht(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ht(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Wr(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Wr(s.components,o.components,n[r]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ne(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?ne(n[r],{strict:!1}):!1)return a}}const St="/docs/contract/decodeFunctionResult";function De(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const i=Xe({abi:t,args:n,name:r});if(!i)throw new it(r,{docsPath:St});o=i}if(o.type!=="function")throw new it(void 0,{docsPath:St});if(!o.outputs)throw new ao(o.name,{docsPath:St});const a=bt(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Yn="/docs/contract/encodeFunctionData";function Ma(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Xe({abi:t,args:n,name:r});if(!o)throw new it(r,{docsPath:Yn});s=o}if(s.type!=="function")throw new it(void 0,{docsPath:Yn});return{abi:[s],functionName:cn(ue(s))}}function be(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:Ma(e)})(),s=n[0],o=r,a="inputs"in s&&s.inputs?qe(s.inputs,t??[]):void 0;return ct([o,a??"0x"])}function je({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Ot({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ot({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Kr={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Oa={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},za={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function qa(e){const{abi:t,data:n}=e,r=at(n,0,4);if(r==="0x")throw new ht;const o=[...t||[],Oa,za].find(a=>a.type==="error"&&r===cn(ue(a)));if(!o)throw new Er(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?bt(o.inputs,at(n,4)):void 0,errorName:o.name}}function Yr({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?re(t[o]):t[o]}`).join(", ")})`}class Jr extends k{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){var p;const g=n?Se(n):void 0;let h=Xt({from:g==null?void 0:g.address,to:d,value:typeof l<"u"&&`${hr(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Ee(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ee(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ee(u)} gwei`,nonce:f});b&&(h+=`
${_o(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Da extends k{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:a,sender:i}){const c=Xe({abi:n,args:r,name:a}),u=c?Yr({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ue(c,{includeName:!0}):void 0,d=Xt({address:s&&Ms(s),function:f,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=i}}class Gt extends k{constructor({abi:t,data:n,functionName:r,message:s}){let o,a,i,c;if(n&&n!=="0x")try{a=qa({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=a;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=Kr[b]}else{const b=f?ue(f,{includeName:!0}):void 0,g=f&&l?Yr({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[b?`Error: ${b}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Er&&(u=o.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=c,this.signature=u}}class ja extends k{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class La extends k{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class un extends k{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function dn(e,t){var r,s,o,a,i,c;if(!(e instanceof k))return!1;const n=e.walk(u=>u instanceof Gt);return n instanceof Gt?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((a=n.data)==null?void 0:a.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Kr[50]):!1}function Xr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ve(t)?t:null}function ot(e){let t=new Uint8Array(32).fill(0);if(!e)return ee(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Xr(n[r]),o=s?lt(s):G(Ue(n[r]),"bytes");t=G(ce([t,o]),"bytes")}return ee(t)}function Ha(e){return`[${e.slice(2)}]`}function Ga(e){const t=new Uint8Array(32).fill(0);return e?Xr(e)||G(Ue(e)):ee(t)}function gt(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ue(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let a=Ue(s[o]);a.byteLength>255&&(a=Ue(Ha(Ga(s[o])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Za=3;function Ye(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:a}){const{code:i,data:c,message:u,shortMessage:f}=e instanceof un?e:e instanceof k?e.walk(l=>"data"in l)||e.walk():{},d=e instanceof ht?new ja({functionName:o}):[Za,Os.code].includes(i)&&(c||u||f)?new Gt({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:f??u}):e;return new Da(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:a})}const Ua="0x82ad56cb",Va="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Wa="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ka="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function Ya(e,{docsPath:t,...n}){const r=(()=>{const s=Br(e,n);return s instanceof Jt?e:s})();return new Jr(r,{docsPath:t,...n})}async function wt(e,t){var N,C,O,P;const{account:n=e.account,batch:r=!!((N=e.batch)!=null&&N.multicall),blockNumber:s,blockTag:o="latest",accessList:a,blobs:i,code:c,data:u,factory:f,factoryData:d,gas:l,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,to:m,value:w,stateOverride:v,...S}=t,B=n?Se(n):void 0;if(c&&(f||d))throw new k("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&m)throw new k("Cannot provide both `code` & `to` as parameters.");const E=c&&u,x=f&&d&&m&&u,A=E||x,M=E?Qa({code:c,data:u}):x?ei({data:u,factory:f,factoryData:d,to:m}):u;try{rn(t);const I=(s?R(s):void 0)||o,T=kr(v),_=(P=(O=(C=e.chain)==null?void 0:C.formatters)==null?void 0:O.transactionRequest)==null?void 0:P.format,q=(_||yr)({...Pr(S,{format:_}),from:B==null?void 0:B.address,accessList:a,blobs:i,data:M,gas:l,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,to:A?void 0:m,value:w});if(r&&Ja({request:q})&&!T)try{return await Xa(e,{...q,blockNumber:s,blockTag:o})}catch(W){if(!(W instanceof br)&&!(W instanceof Ot))throw W}const H=await e.request({method:"eth_call",params:T?[q,I,T]:[q,I]});return H==="0x"?{data:void 0}:{data:H}}catch($){const I=ti($),{offchainLookup:T,offchainLookupSignature:_}=await pr(async()=>{const{offchainLookup:z,offchainLookupSignature:q}=await import("./B7fSQMBg.js");return{offchainLookup:z,offchainLookupSignature:q}},__vite__mapDeps([0,1,2]),import.meta.url);if(e.ccipRead!==!1&&(I==null?void 0:I.slice(0,10))===_&&m)return{data:await T(e,{data:I,to:m})};throw A&&(I==null?void 0:I.slice(0,10))==="0x101bb98d"?new La({factory:f}):Ya($,{...t,account:B,chain:e.chain})}}function Ja({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Ua)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Xa(e,t){var h;const{batchSize:n=1024,wait:r=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:a,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new br;u=je({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?R(s):void 0)||o,{schedule:l}=zs({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((m,{data:w})=>m+(w.length-2),0)>n*2},fn:async p=>{const y=p.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),m=be({abi:qt,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:m,to:u},d]});return De({abi:qt,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:b,success:g}]=await l({data:a,to:c});if(!g)throw new un({data:b});return b==="0x"?{data:void 0}:{data:b}}function Qa(e){const{code:t,data:n}=e;return nn({abi:Ur(["constructor(bytes, bytes)"]),bytecode:Va,args:[t,n]})}function ei(e){const{data:t,factory:n,factoryData:r,to:s}=e;return nn({abi:Ur(["constructor(address, bytes, address, bytes)"]),bytecode:Wa,args:[s,t,n,r]})}function ti(e){var n;if(!(e instanceof k))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function de(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=be({abi:n,args:s,functionName:o});try{const{data:c}=await F(e,wt,"call")({...a,data:i,to:r});return De({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Ye(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function ni(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=je({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=be({abi:Un,functionName:"addr",...r!=null?{args:[ot(s),BigInt(r)]}:{args:[ot(s)]}}),f={address:c,abi:_r,functionName:"resolve",args:[pe(gt(s)),u],blockNumber:t,blockTag:n},d=F(e,de,"readContract"),l=o?await d({...f,args:[...f.args,o]}):await d(f);if(l[0]==="0x")return null;const b=De({abi:Un,args:r!=null?[ot(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return b==="0x"||ft(b)==="0x00"?null:b}catch(u){if(a)throw u;if(dn(u,"resolve"))return null;throw u}}class ri extends k{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ge extends k{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class fn extends k{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class si extends k{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const oi=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ai=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ii=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ci=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ui(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Jn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Qr({uri:e,gatewayUrls:t}){const n=ii.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Jn(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Jn(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(oi),{protocol:a,subpath:i,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=a==="ipns:/"||i==="ipns/",d=a==="ipfs:/"||i==="ipfs/"||ai.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(ci,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new fn({uri:e})}function es(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ri({data:e});return e.image||e.image_url||e.image_data}async function di({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await ln({gatewayUrls:e,uri:es(n)})}catch{throw new fn({uri:t})}}async function ln({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Qr({uri:t,gatewayUrls:e});if(r||await ui(n))return n;throw new fn({uri:t})}function fi(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,a]=n.split(":"),[i,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ge({reason:"Only EIP-155 supported"});if(!a)throw new Ge({reason:"Chain ID not found"});if(!c)throw new Ge({reason:"Contract address not found"});if(!s)throw new Ge({reason:"Token ID not found"});if(!i)throw new Ge({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function li(e,{nft:t}){if(t.namespace==="erc721")return de(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return de(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new si({namespace:t.namespace})}async function pi(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?hi(e,{gatewayUrls:t,record:n}):ln({uri:n,gatewayUrls:t})}async function hi(e,{gatewayUrls:t,record:n}){const r=fi(n),s=await li(e,{nft:r}),{uri:o,isOnChain:a,isEncoded:i}=Qr({uri:s,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=i?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return ln({uri:es(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),di({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function ts(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=je({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:_r,functionName:"resolve",args:[pe(gt(r)),be({abi:Zn,functionName:"text",args:[ot(r),s]})],blockNumber:t,blockTag:n},f=F(e,de,"readContract"),d=o?await f({...u,args:[...u.args,o]}):await f(u);if(d[0]==="0x")return null;const l=De({abi:Zn,functionName:"text",data:d[0]});return l===""?null:l}catch(u){if(a)throw u;if(dn(u,"resolve"))return null;throw u}}async function yi(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){const c=await F(e,ts,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!c)return null;try{return await pi(e,{record:c,gatewayUrls:r})}catch{return null}}async function bi(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=je({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:zo,functionName:"reverse",args:[pe(gt(c))],blockNumber:n,blockTag:r},f=F(e,de,"readContract"),[d,l]=s?await f({...u,args:[...u.args,s]}):await f(u);return t.toLowerCase()!==l.toLowerCase()?null:d}catch(u){if(o)throw u;if(dn(u,"reverse"))return null;throw u}}async function mi(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=je({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await F(e,de,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[pe(gt(r))],blockNumber:t,blockTag:n});return a}function vt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:a,status:i,transport:c})=>{i==="success"&&t===o&&(n[a]=c.request)})),o=>n[o]||e.request}async function gi(e){const t=vt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class wi extends k{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Xn="/docs/contract/encodeEventTopics";function Qe(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Xe({abi:t,name:n});if(!u)throw new jn(n,{docsPath:Xn});s=u}if(s.type!=="event")throw new jn(void 0,{docsPath:Xn});const o=ue(s),a=mt(o);let i=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(i=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((b,g)=>Qn({param:d,value:f[l][g]})):f[l]?Qn({param:d,value:f[l]}):null))??[])}return[a,...i]}function Qn({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return G(lt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new wi(e.type);return qe([e],[t])}async function ns(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:a,strict:i,toBlock:c}=t,u=vt(e,{method:"eth_newFilter"}),f=o?Qe({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?R(a):a,toBlock:typeof c=="bigint"?R(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!i,type:"event"}}async function rs(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:a,toBlock:i}={}){const c=s??(r?[r]:void 0),u=vt(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>Qe({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?R(o):o,toBlock:typeof i=="bigint"?R(i):i,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!a,toBlock:i,type:"event"}}async function ss(e){const t=vt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function vi(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=be({abi:n,args:s,functionName:o});try{return await F(e,an,"estimateGas")({data:i,to:r,...a})}catch(c){const u=a.account?Se(a.account):void 0;throw Ye(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}async function Ei(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const xi=new Map,Ai=new Map;function Bi(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),n=t(e,xi),r=t(e,Ai);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Pi(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Bi(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const a=await o;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const Ii=e=>`blockNumber.${e}`;async function et(e,{cacheTime:t=e.cacheTime}={}){const n=await Pi(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ii(e.uid),cacheTime:t});return BigInt(n)}async function $i(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?R(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ze(o)}async function er(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?R(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function pn(e,t){if(!ne(e,{strict:!1}))throw new Be({address:e});if(!ne(t,{strict:!1}))throw new Be({address:t});return e.toLowerCase()===t.toLowerCase()}const tr="/docs/contract/decodeEventLog";function hn(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[a,...i]=s;if(!a)throw new oo({docsPath:tr});const c=t.length===1?t[0]:t.find(h=>h.type==="event"&&a===mt(ue(h)));if(!(c&&"name"in c)||c.type!=="event")throw new xr(a,{docsPath:tr});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(h=>!("name"in h&&h.name));let l=d?[]:{};const b=f.filter(h=>"indexed"in h&&h.indexed);for(let h=0;h<b.length;h++){const p=b[h],y=i[h];if(!y)throw new yt({abiItem:c,param:p});l[d?h:p.name||h]=Si({param:p,value:y})}const g=f.filter(h=>!("indexed"in h&&h.indexed));if(g.length>0){if(n&&n!=="0x")try{const h=bt(g,n);if(h)if(d)l=[...l,...h];else for(let p=0;p<g.length;p++)l[g[p].name]=h[p]}catch(h){if(o)throw h instanceof vr||h instanceof qs?new We({abiItem:c,data:n,params:g,size:V(n)}):h}else if(o)throw new We({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Si({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(bt([e],t)||[])[0]}function yn(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(a=>{var i;try{const c=t.find(f=>f.type==="event"&&a.topics[0]===mt(f));if(!c)return null;const u=hn({...a,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!ki({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...a}}catch(c){let u,f;if(c instanceof xr)return null;if(c instanceof We||c instanceof yt){if(s)return null;u=c.abiItem.name,f=(i=c.abiItem.inputs)==null?void 0:i.some(d=>!("name"in d&&d.name))}return{...a,args:f?[]:{},eventName:u}}}).filter(Boolean)}function ki(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,a,i){try{return o.type==="address"?pn(a,i):o.type==="string"||o.type==="bytes"?G(lt(a))===i:a===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,a)=>{if(o==null)return!0;const i=n[a];return i?(Array.isArray(o)?o:[o]).some(u=>s(i,u,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,a])=>{if(a==null)return!0;const i=n.find(u=>u.name===o);return i?(Array.isArray(a)?a:[a]).some(u=>s(i,u,t[o])):!1}):!1}async function bn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:a,args:i,strict:c}={}){const u=c??!1,f=a??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>Qe({abi:[h],eventName:h.name,args:a?void 0:i}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?R(r):r,toBlock:typeof s=="bigint"?R(s):s}]});const b=l.map(g=>Ie(g));return f?yn({abi:f,args:i,logs:b,strict:u}):b}async function os(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:a,fromBlock:i,toBlock:c,strict:u}=t,f=a?Xe({abi:n,name:a}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return F(e,bn,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:i,toBlock:c,strict:u})}class Ni extends k{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Ti(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,a,i,c,u,f,d]=await F(e,de,"readContract")({abi:Ci,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:i,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new Ni({address:n}):a}}const Ci=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Fi(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function _i(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?R(n):void 0,a=await e.request({method:"eth_feeHistory",params:[R(t),o||r,s]},{dedupe:!!o});return Fi(a)}async function Et(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ie(o));return!("abi"in t)||!t.abi?s:yn({abi:t.abi,logs:s,strict:n})}async function Ri(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ie(o));return t.abi?yn({abi:t.abi,logs:s,strict:n}):s}async function Mi(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?R(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function mn(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,l;const a=r||"latest",i=n!==void 0?R(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,R(o)]},{dedupe:!0}):(i||a)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,R(o)]},{dedupe:!!i})),!c)throw new mr({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||Ds)(c)}async function Oi(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([F(e,et,"getBlockNumber")({}),t?F(e,mn,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function Zt(e,{hash:t}){var s,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new gr({hash:t});return(((a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||js)(n)}async function zi(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:a,stateOverride:i}=t,c=t.contracts,u=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=a;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=je({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let l=0,b=0;for(let y=0;y<c.length;y++){const{abi:m,address:w,args:v,functionName:S}=c[y];try{const B=be({abi:m,args:v,functionName:S});b+=(B.length-2)/2,u>0&&b>u&&d[l].length>0&&(l++,b=(B.length-2)/2,d[l]=[]),d[l]=[...d[l],{allowFailure:!0,callData:B,target:w}]}catch(B){const E=Ye(B,{abi:m,address:w,args:v,docsPath:"/docs/contract/multicall",functionName:S});if(!n)throw E;d[l]=[...d[l],{allowFailure:!0,callData:"0x",target:w}]}}const g=await Promise.allSettled(d.map(y=>F(e,de,"readContract")({abi:qt,address:f,args:[y],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:i}))),h=[];for(let y=0;y<g.length;y++){const m=g[y];if(m.status==="rejected"){if(!n)throw m.reason;for(let v=0;v<d[y].length;v++)h.push({status:"failure",error:m.reason,result:void 0});continue}const w=m.value;for(let v=0;v<w.length;v++){const{returnData:S,success:B}=w[v],{callData:E}=d[y][v],{abi:x,address:A,functionName:M,args:N}=c[h.length];try{if(E==="0x")throw new ht;if(!B)throw new un({data:S});const C=De({abi:x,args:N,data:S,functionName:M});h.push(n?{result:C,status:"success"}:C)}catch(C){const O=Ye(C,{abi:x,address:A,args:N,docsPath:"/docs/contract/multicall",functionName:M});if(!n)throw O;h.push({error:O,result:void 0,status:"failure"})}}}if(h.length!==c.length)throw new k("multicall results mismatch");return h}const kt=new Map,nr=new Map;let qi=0;function he(e,t,n){const r=++qi,s=()=>kt.get(e)||[],o=()=>{const f=s();kt.set(e,f.filter(d=>d.id!==r))},a=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=nr.get(e);f.length===1&&d&&d(),o()},i=s();if(kt.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const c={};for(const f in t)c[f]=(...d)=>{var b,g;const l=s();if(l.length!==0)for(const h of l)(g=(b=h.fns)[f])==null||g.call(b,...d)};const u=n(c);return typeof u=="function"&&nr.set(e,u),a}function tt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const c=await(n==null?void 0:n(i))??r;await On(c);const u=async()=>{s&&(await e({unpoll:o}),await On(r),u())};u()})(),o}function Di(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),f=a??!1;let d;return u?(()=>{const g=re(["watchBlocks",e.uid,t,n,r,f,c]);return he(g,{onBlock:s,onError:o},h=>tt(async()=>{var p;try{const y=await F(e,te,"getBlock")({blockTag:t,includeTransactions:f});if(y.number&&(d!=null&&d.number)){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let m=(d==null?void 0:d.number)+1n;m<y.number;m++){const w=await F(e,te,"getBlock")({blockNumber:m,includeTransactions:f});h.onBlock(w,d),d=w}}(!(d!=null&&d.number)||t==="pending"&&!(y!=null&&y.number)||y.number&&y.number>d.number)&&(h.onBlock(y,d),d=y)}catch(y){(p=h.onError)==null||p.call(h,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,h=!0,p=()=>g=!1;return(async()=>{try{r&&F(e,te,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{g&&h&&(s(w,void 0),h=!1)});const y=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(v=>v.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:m}=await y.subscribe({params:["newHeads"],async onData(w){if(!g)return;const v=await F(e,te,"getBlock")({blockNumber:w.blockNumber,includeTransactions:f}).catch(()=>{});g&&(s(v,d),h=!1,d=v)},onError(w){o==null||o(w)}});p=m,g||p()}catch(y){o==null||o(y)}})(),()=>p()})()}function as(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const d=re(["watchBlockNumber",e.uid,t,n,a]);return he(d,{onBlockNumber:r,onError:s},l=>tt(async()=>{var b;try{const g=await F(e,et,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let h=c+1n;h<g;h++)l.onBlockNumber(h,c),c=h}(!c||g>c)&&(l.onBlockNumber(g,c),c=g)}catch(g){(b=l.onError)==null||b.call(l,g)}},{emitOnBegin:t,interval:a}))})():(()=>{const d=re(["watchBlockNumber",e.uid,t,n]);return he(d,{onBlockNumber:r,onError:s},l=>{let b=!0,g=()=>b=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(m=>m.config.type==="webSocket");return y?y.value:e.transport}return e.transport})(),{unsubscribe:p}=await h.subscribe({params:["newHeads"],onData(y){var w;if(!b)return;const m=Pe((w=y.result)==null?void 0:w.number);l.onBlockNumber(m,c),c=m},onError(y){var m;(m=l.onError)==null||m.call(l,y)}});g=p,b||g()}catch(h){s==null||s(h)}})(),()=>g()})})()}async function xt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ji(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:a,onError:i,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),b=d??!1;return l?(()=>{const p=re(["watchEvent",t,n,r,e.uid,s,f,a]);return he(p,{onLogs:c,onError:i},y=>{let m;a!==void 0&&(m=a-1n);let w,v=!1;const S=tt(async()=>{var B;if(!v){try{w=await F(e,rs,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:a})}catch{}v=!0;return}try{let E;if(w)E=await F(e,Et,"getFilterChanges")({filter:w});else{const x=await F(e,et,"getBlockNumber")({});m&&m!==x?E=await F(e,bn,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:m+1n,toBlock:x}):E=[],m=x}if(E.length===0)return;if(r)y.onLogs(E);else for(const x of E)y.onLogs([x])}catch(E){w&&E instanceof wr&&(v=!1),(B=y.onError)==null||B.call(y,E)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await F(e,xt,"uninstallFilter")({filter:w}),S()}})})():(()=>{let p=!0,y=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(E=>E.config.type==="webSocket");return B?B.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let v=[];w&&(v=[w.flatMap(E=>Qe({abi:[E],eventName:E.name,args:n}))],s&&(v=v[0]));const{unsubscribe:S}=await m.subscribe({params:["logs",{address:t,topics:v}],onData(B){var x;if(!p)return;const E=B.result;try{const{eventName:A,args:M}=hn({abi:w??[],data:E.data,topics:E.topics,strict:b}),N=Ie(E,{args:M,eventName:A});c([N])}catch(A){let M,N;if(A instanceof We||A instanceof yt){if(d)return;M=A.abiItem.name,N=(x=A.abiItem.inputs)==null?void 0:x.some(O=>!("name"in O&&O.name))}const C=Ie(E,{args:N?[]:{},eventName:M});c([C])}},onError(B){i==null||i(B)}});y=S,p||y()}catch(m){i==null||i(m)}})(),()=>y()})()}function Li(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=re(["watchPendingTransactions",e.uid,t,o]);return he(u,{onTransactions:r,onError:n},f=>{let d;const l=tt(async()=>{var b;try{if(!d)try{d=await F(e,ss,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const g=await F(e,Et,"getFilterChanges")({filter:d});if(g.length===0)return;if(t)f.onTransactions(g);else for(const h of g)f.onTransactions([h])}catch(g){(b=f.onError)==null||b.call(f,g)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await F(e,xt,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}const Hi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Gi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;class Zi extends k{constructor({domain:t}){super(`Invalid domain "${re(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Ui extends k{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Vi extends k{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Wi(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Qi({domain:t}),...e.types};Xi({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Ki({domain:t,types:s})),r!=="EIP712Domain"&&o.push(is({data:n,primaryType:r,types:s})),G(ce(o))}function Ki({domain:e,types:t}){return is({data:e,primaryType:"EIP712Domain",types:t})}function is({data:e,primaryType:t,types:n}){const r=cs({data:e,primaryType:t,types:n});return G(r)}function cs({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Yi({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=ds({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(a),s.push(i)}return qe(r,s)}function Yi({primaryType:e,types:t}){const n=pe(Ji({primaryType:e,types:t}));return G(n)}function Ji({primaryType:e,types:t}){let n="";const r=us({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function us({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])us({primaryType:o.type,types:t},n);return n}function ds({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},G(cs({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},G(r)];if(n==="string")return[{type:"bytes32"},G(pe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(a=>ds({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},G(qe(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},r]}function Xi(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,i)=>{for(const c of a){const{name:u,type:f}=c,d=i[u],l=f.match(Gi);if(l&&(typeof d=="number"||typeof d=="bigint")){const[h,p,y]=l;R(d,{signed:p==="int",size:Number.parseInt(y)/8})}if(f==="address"&&typeof d=="string"&&!ne(d))throw new Be({address:d});const b=f.match(Hi);if(b){const[h,p]=b;if(p&&V(d)!==Number.parseInt(p))throw new co({expectedSize:Number.parseInt(p),givenSize:V(d)})}const g=s[f];g&&(ec(f),o(g,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Zi({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Ui({primaryType:r,types:s})}function Qi({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function ec(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Vi({type:e})}const tc=`Ethereum Signed Message:
`;function nc(e){const t=typeof e=="string"?_t(e):typeof e.raw=="string"?e.raw:ee(e.raw),n=_t(`${tc}${V(t)}`);return ce([n,t])}function fs(e,t){return G(nc(e),t)}const ls="0x6492649264926492649264926492649264926492649264926492649264926492";function rc(e){return Ls(e,-32)===ls}function sc(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=ct([qe([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),ls]);return s==="hex"?o:ut(o)}function oc(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function ac(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ze(e.nonce):void 0,storageProof:e.storageProof?oc(e.storageProof):void 0}}async function ic(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",a=n!==void 0?R(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,a||o]});return ac(i)}async function cc(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:a=({count:c})=>~~(1<<c)*200,timeout:i=18e4}){const c=re(["waitForTransactionReceipt",e.uid,n]);let u,f,d,l=!1;const{promise:b,resolve:g,reject:h}=Hs(),p=i?setTimeout(()=>h(new Gs({hash:n})),i):void 0,y=he(c,{onReplaced:r,resolve:g,reject:h},m=>{const w=F(e,as,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(v){const S=E=>{clearTimeout(p),w(),E(),y()};let B=v;if(!l)try{if(d){if(t>1&&(!d.blockNumber||B-d.blockNumber+1n<t))return;S(()=>m.resolve(d));return}if(u||(l=!0,await zn(async()=>{u=await F(e,mn,"getTransaction")({hash:n}),u.blockNumber&&(B=u.blockNumber)},{delay:a,retryCount:o}),l=!1),d=await F(e,Zt,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||B-d.blockNumber+1n<t))return;S(()=>m.resolve(d))}catch(E){if(E instanceof mr||E instanceof gr){if(!u){l=!1;return}try{f=u,l=!0;const x=await zn(()=>F(e,te,"getBlock")({blockNumber:B,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:N})=>N instanceof $r});l=!1;const A=x.transactions.find(({from:N,nonce:C})=>N===f.from&&C===f.nonce);if(!A||(d=await F(e,Zt,"getTransactionReceipt")({hash:A.hash}),t>1&&(!d.blockNumber||B-d.blockNumber+1n<t)))return;let M="replaced";A.to===f.to&&A.value===f.value?M="repriced":A.from===A.to&&A.value===0n&&(M="cancelled"),S(()=>{var N;(N=m.onReplaced)==null||N.call(m,{reason:M,replacedTransaction:f,transaction:A,transactionReceipt:d}),m.resolve(d)})}catch(x){S(()=>m.reject(x))}}else S(()=>m.reject(E))}}})});return b}async function uc(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:a,...i}=t,c=i.account?Se(i.account):e.account,u=be({abi:n,args:s,functionName:a});try{const{data:f}=await F(e,wt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...i,account:c}),d=De({abi:n,args:s,functionName:a,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:a,...i,account:c}}}catch(f){throw Ye(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}class ps extends Zs{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Us(t);const r=Vs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return qn(this),this.iHash.update(t),this}digestInto(t){qn(this),Ws(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:a,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hs=(e,t,n)=>new ps(e,t).update(n).digest();hs.create=(e,t)=>new ps(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gn=BigInt(0),At=BigInt(1),dc=BigInt(2);function $e(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function nt(e){if(!$e(e))throw new Error("Uint8Array expected")}function _e(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const fc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Re(e){nt(e);let t="";for(let n=0;n<e.length;n++)t+=fc[e[n]];return t}function Ce(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function wn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const se={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function rr(e){if(e>=se._0&&e<=se._9)return e-se._0;if(e>=se._A&&e<=se._F)return e-(se._A-10);if(e>=se._a&&e<=se._f)return e-(se._a-10)}function Me(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const a=rr(e.charCodeAt(o)),i=rr(e.charCodeAt(o+1));if(a===void 0||i===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=a*16+i}return r}function xe(e){return wn(Re(e))}function vn(e){return nt(e),wn(Re(Uint8Array.from(e).reverse()))}function Oe(e,t){return Me(e.toString(16).padStart(t*2,"0"))}function En(e,t){return Oe(e,t).reverse()}function lc(e){return Me(Ce(e))}function X(e,t,n){let r;if(typeof t=="string")try{r=Me(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if($e(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Je(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];nt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function pc(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function hc(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const Nt=e=>typeof e=="bigint"&&gn<=e;function Bt(e,t,n){return Nt(e)&&Nt(t)&&Nt(n)&&t<=e&&e<n}function Ae(e,t,n,r){if(!Bt(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function ys(e){let t;for(t=0;e>gn;e>>=At,t+=1);return t}function yc(e,t){return e>>BigInt(t)&At}function bc(e,t,n){return e|(n?At:gn)<<BigInt(t)}const xn=e=>(dc<<BigInt(e-1))-At,Tt=e=>new Uint8Array(e),sr=e=>Uint8Array.from(e);function bs(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Tt(e),s=Tt(e),o=0;const a=()=>{r.fill(1),s.fill(0),o=0},i=(...d)=>n(s,r,...d),c=(d=Tt())=>{s=i(sr([0]),d),r=i(),d.length!==0&&(s=i(sr([1]),d),r=i())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=i();const b=r.slice();l.push(b),d+=r.length}return Je(...l)};return(d,l)=>{a(),c(d);let b;for(;!(b=l(u()));)c();return a(),b}}const mc={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$e(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function rt(e,t,n={}){const r=(s,o,a)=>{const i=mc[o];if(typeof i!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[s];if(!(a&&c===void 0)&&!i(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const gc=()=>{throw new Error("not implemented")};function Ut(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const wc=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Ae,abool:_e,abytes:nt,bitGet:yc,bitLen:ys,bitMask:xn,bitSet:bc,bytesToHex:Re,bytesToNumberBE:xe,bytesToNumberLE:vn,concatBytes:Je,createHmacDrbg:bs,ensureBytes:X,equalBytes:pc,hexToBytes:Me,hexToNumber:wn,inRange:Bt,isBytes:$e,memoized:Ut,notImplemented:gc,numberToBytesBE:Oe,numberToBytesLE:En,numberToHexUnpadded:Ce,numberToVarBytesBE:lc,utf8ToBytes:hc,validateObject:rt},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L=BigInt(0),D=BigInt(1),we=BigInt(2),vc=BigInt(3),Vt=BigInt(4),or=BigInt(5),ar=BigInt(8);BigInt(9);BigInt(16);function U(e,t){const n=e%t;return n>=L?n:t+n}function Ec(e,t,n){if(n<=L||t<L)throw new Error("Expected power/modulo > 0");if(n===D)return L;let r=D;for(;t>L;)t&D&&(r=r*e%n),e=e*e%n,t>>=D;return r}function K(e,t,n){let r=e;for(;t-- >L;)r*=r,r%=n;return r}function Wt(e,t){if(e===L||t<=L)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=U(e,t),r=t,s=L,o=D;for(;n!==L;){const i=r/n,c=r%n,u=s-o*i;r=n,n=c,s=o,o=u}if(r!==D)throw new Error("invert: does not exist");return U(s,t)}function xc(e){const t=(e-D)/we;let n,r,s;for(n=e-D,r=0;n%we===L;n/=we,r++);for(s=we;s<e&&Ec(s,t,e)!==e-D;s++);if(r===1){const a=(e+D)/Vt;return function(c,u){const f=c.pow(u,a);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+D)/we;return function(i,c){if(i.pow(c,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let u=r,f=i.pow(i.mul(i.ONE,s),n),d=i.pow(c,o),l=i.pow(c,n);for(;!i.eql(l,i.ONE);){if(i.eql(l,i.ZERO))return i.ZERO;let b=1;for(let h=i.sqr(l);b<u&&!i.eql(h,i.ONE);b++)h=i.sqr(h);const g=i.pow(f,D<<BigInt(u-b-1));f=i.sqr(g),d=i.mul(d,g),l=i.mul(l,f),u=b}return d}}function Ac(e){if(e%Vt===vc){const t=(e+D)/Vt;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%ar===or){const t=(e-or)/ar;return function(r,s){const o=r.mul(s,we),a=r.pow(o,t),i=r.mul(s,a),c=r.mul(r.mul(i,we),a),u=r.mul(i,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return xc(e)}const Bc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pc(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bc.reduce((r,s)=>(r[s]="function",r),t);return rt(e,n)}function Ic(e,t,n){if(n<L)throw new Error("Expected power > 0");if(n===L)return e.ONE;if(n===D)return t;let r=e.ONE,s=t;for(;n>L;)n&D&&(r=e.mul(r,s)),s=e.sqr(s),n>>=D;return r}function $c(e,t){const n=new Array(t.length),r=t.reduce((o,a,i)=>e.is0(a)?o:(n[i]=o,e.mul(o,a)),e.ONE),s=e.inv(r);return t.reduceRight((o,a,i)=>e.is0(a)?o:(n[i]=e.mul(o,n[i]),e.mul(o,a)),s),n}function ms(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function gs(e,t,n=!1,r={}){if(e<=L)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=ms(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Ac(e),i=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:xn(s),ZERO:L,ONE:D,create:c=>U(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return L<=c&&c<e},is0:c=>c===L,isOdd:c=>(c&D)===D,neg:c=>U(-c,e),eql:(c,u)=>c===u,sqr:c=>U(c*c,e),add:(c,u)=>U(c+u,e),sub:(c,u)=>U(c-u,e),mul:(c,u)=>U(c*u,e),pow:(c,u)=>Ic(i,c,u),div:(c,u)=>U(c*Wt(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Wt(c,e),sqrt:r.sqrt||(c=>a(i,c)),invertBatch:c=>$c(i,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>n?En(c,o):Oe(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?vn(c):xe(c)}});return Object.freeze(i)}function ws(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function vs(e){const t=ws(e);return t+Math.ceil(t/2)}function Sc(e,t,n=!1){const r=e.length,s=ws(t),o=vs(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=n?xe(e):vn(e),i=U(a,t-D)+D;return n?En(i,s):Oe(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kc=BigInt(0),Ct=BigInt(1),Ft=new WeakMap,ir=new WeakMap;function Nc(e,t){const n=(o,a)=>{const i=a.negate();return o?i:a},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>t)throw new Error(`Wrong window size=${o}, should be [1..${t}]`)},s=o=>{r(o);const a=Math.ceil(t/o)+1,i=2**(o-1);return{windows:a,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,a){let i=e.ZERO,c=o;for(;a>kc;)a&Ct&&(i=i.add(c)),c=c.double(),a>>=Ct;return i},precomputeWindow(o,a){const{windows:i,windowSize:c}=s(a),u=[];let f=o,d=f;for(let l=0;l<i;l++){d=f,u.push(d);for(let b=1;b<c;b++)d=d.add(f),u.push(d);f=d.double()}return u},wNAF(o,a,i){const{windows:c,windowSize:u}=s(o);let f=e.ZERO,d=e.BASE;const l=BigInt(2**o-1),b=2**o,g=BigInt(o);for(let h=0;h<c;h++){const p=h*u;let y=Number(i&l);i>>=g,y>u&&(y-=b,i+=Ct);const m=p,w=p+Math.abs(y)-1,v=h%2!==0,S=y<0;y===0?d=d.add(n(v,a[m])):f=f.add(n(S,a[w]))}return{p:f,f:d}},wNAFCached(o,a,i){const c=ir.get(o)||1;let u=Ft.get(o);return u||(u=this.precomputeWindow(o,c),c!==1&&Ft.set(o,i(u))),this.wNAF(c,u,a)},setWindowSize(o,a){r(a),ir.set(o,a),Ft.delete(o)}}}function Tc(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((f,d)=>{if(!t.isValid(f))throw new Error(`wrong scalar at index ${d}`)}),n.forEach((f,d)=>{if(!(f instanceof e))throw new Error(`wrong point at index ${d}`)});const s=ys(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,i=new Array(a+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/o)*o;let u=e.ZERO;for(let f=c;f>=0;f-=o){i.fill(e.ZERO);for(let l=0;l<r.length;l++){const b=r[l],g=Number(b>>BigInt(f)&BigInt(a));i[g]=i[g].add(n[l])}let d=e.ZERO;for(let l=i.length-1,b=e.ZERO;l>0;l--)b=b.add(i[l]),d=d.add(b);if(u=u.add(d),f!==0)for(let l=0;l<o;l++)u=u.double()}return u}function Es(e){return Pc(e.Fp),rt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ms(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cr(e){e.lowS!==void 0&&_e("lowS",e.lowS),e.prehash!==void 0&&_e("prehash",e.prehash)}function Cc(e){const t=Es(e);rt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Fc,hexToBytes:_c}=wc,oe={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=oe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ce(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Ce(s.length/2|128):"";return`${Ce(e)}${o}${s}${t}`},decode(e,t){const{Err:n}=oe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let a=0;if(!o)a=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)a=a<<8|f;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(r,r+a);if(i.length!==a)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=oe;if(e<ae)throw new t("integer: negative integers are not allowed");let n=Ce(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=oe;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return Fc(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=oe,s=typeof e=="string"?_c(e):e;nt(s);const{v:o,l:a}=r.decode(48,s);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=oe,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},ae=BigInt(0),j=BigInt(1);BigInt(2);const ur=BigInt(3);BigInt(4);function Rc(e){const t=Cc(e),{Fp:n}=t,r=gs(t.n,t.nBitLength),s=t.toBytes||((h,p,y)=>{const m=p.toAffine();return Je(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),o=t.fromBytes||(h=>{const p=h.subarray(1),y=n.fromBytes(p.subarray(0,n.BYTES)),m=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:y,y:m}});function a(h){const{a:p,b:y}=t,m=n.sqr(h),w=n.mul(m,h);return n.add(n.add(w,n.mul(h,p)),y)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function i(h){return Bt(h,j,t.n)}function c(h){const{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:m,n:w}=t;if(p&&typeof h!="bigint"){if($e(h)&&(h=Re(h)),typeof h!="string"||!p.includes(h.length))throw new Error("Invalid key");h=h.padStart(y*2,"0")}let v;try{v=typeof h=="bigint"?h:xe(X("private key",h,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof h}`)}return m&&(v=U(v,w)),Ae("private key",v,j,w),v}function u(h){if(!(h instanceof l))throw new Error("ProjectivePoint expected")}const f=Ut((h,p)=>{const{px:y,py:m,pz:w}=h;if(n.eql(w,n.ONE))return{x:y,y:m};const v=h.is0();p==null&&(p=v?n.ONE:n.inv(w));const S=n.mul(y,p),B=n.mul(m,p),E=n.mul(w,p);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:S,y:B}}),d=Ut(h=>{if(h.is0()){if(t.allowInfinityPoint&&!n.is0(h.py))return;throw new Error("bad point: ZERO")}const{x:p,y}=h.toAffine();if(!n.isValid(p)||!n.isValid(y))throw new Error("bad point: x or y not FE");const m=n.sqr(y),w=a(p);if(!n.eql(m,w))throw new Error("bad point: equation left != right");if(!h.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class l{constructor(p,y,m){if(this.px=p,this.py=y,this.pz=m,p==null||!n.isValid(p))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required");Object.freeze(this)}static fromAffine(p){const{x:y,y:m}=p||{};if(!p||!n.isValid(y)||!n.isValid(m))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");const w=v=>n.eql(v,n.ZERO);return w(y)&&w(m)?l.ZERO:new l(y,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const y=n.invertBatch(p.map(m=>m.pz));return p.map((m,w)=>m.toAffine(y[w])).map(l.fromAffine)}static fromHex(p){const y=l.fromAffine(o(X("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return l.BASE.multiply(c(p))}static msm(p,y){return Tc(l,r,p,y)}_setWindowSize(p){g.setWindowSize(this,p)}assertValidity(){d(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:y,py:m,pz:w}=this,{px:v,py:S,pz:B}=p,E=n.eql(n.mul(y,B),n.mul(v,w)),x=n.eql(n.mul(m,B),n.mul(S,w));return E&&x}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:y}=t,m=n.mul(y,ur),{px:w,py:v,pz:S}=this;let B=n.ZERO,E=n.ZERO,x=n.ZERO,A=n.mul(w,w),M=n.mul(v,v),N=n.mul(S,S),C=n.mul(w,v);return C=n.add(C,C),x=n.mul(w,S),x=n.add(x,x),B=n.mul(p,x),E=n.mul(m,N),E=n.add(B,E),B=n.sub(M,E),E=n.add(M,E),E=n.mul(B,E),B=n.mul(C,B),x=n.mul(m,x),N=n.mul(p,N),C=n.sub(A,N),C=n.mul(p,C),C=n.add(C,x),x=n.add(A,A),A=n.add(x,A),A=n.add(A,N),A=n.mul(A,C),E=n.add(E,A),N=n.mul(v,S),N=n.add(N,N),A=n.mul(N,C),B=n.sub(B,A),x=n.mul(N,M),x=n.add(x,x),x=n.add(x,x),new l(B,E,x)}add(p){u(p);const{px:y,py:m,pz:w}=this,{px:v,py:S,pz:B}=p;let E=n.ZERO,x=n.ZERO,A=n.ZERO;const M=t.a,N=n.mul(t.b,ur);let C=n.mul(y,v),O=n.mul(m,S),P=n.mul(w,B),$=n.add(y,m),I=n.add(v,S);$=n.mul($,I),I=n.add(C,O),$=n.sub($,I),I=n.add(y,w);let T=n.add(v,B);return I=n.mul(I,T),T=n.add(C,P),I=n.sub(I,T),T=n.add(m,w),E=n.add(S,B),T=n.mul(T,E),E=n.add(O,P),T=n.sub(T,E),A=n.mul(M,I),E=n.mul(N,P),A=n.add(E,A),E=n.sub(O,A),A=n.add(O,A),x=n.mul(E,A),O=n.add(C,C),O=n.add(O,C),P=n.mul(M,P),I=n.mul(N,I),O=n.add(O,P),P=n.sub(C,P),P=n.mul(M,P),I=n.add(I,P),C=n.mul(O,I),x=n.add(x,C),C=n.mul(T,I),E=n.mul($,E),E=n.sub(E,C),C=n.mul($,O),A=n.mul(T,A),A=n.add(A,C),new l(E,x,A)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return g.wNAFCached(this,p,l.normalizeZ)}multiplyUnsafe(p){Ae("scalar",p,ae,t.n);const y=l.ZERO;if(p===ae)return y;if(p===j)return this;const{endo:m}=t;if(!m)return g.unsafeLadder(this,p);let{k1neg:w,k1:v,k2neg:S,k2:B}=m.splitScalar(p),E=y,x=y,A=this;for(;v>ae||B>ae;)v&j&&(E=E.add(A)),B&j&&(x=x.add(A)),A=A.double(),v>>=j,B>>=j;return w&&(E=E.negate()),S&&(x=x.negate()),x=new l(n.mul(x.px,m.beta),x.py,x.pz),E.add(x)}multiply(p){const{endo:y,n:m}=t;Ae("scalar",p,j,m);let w,v;if(y){const{k1neg:S,k1:B,k2neg:E,k2:x}=y.splitScalar(p);let{p:A,f:M}=this.wNAF(B),{p:N,f:C}=this.wNAF(x);A=g.constTimeNegate(S,A),N=g.constTimeNegate(E,N),N=new l(n.mul(N.px,y.beta),N.py,N.pz),w=A.add(N),v=M.add(C)}else{const{p:S,f:B}=this.wNAF(p);w=S,v=B}return l.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(p,y,m){const w=l.BASE,v=(B,E)=>E===ae||E===j||!B.equals(w)?B.multiplyUnsafe(E):B.multiply(E),S=v(this,y).add(v(p,m));return S.is0()?void 0:S}toAffine(p){return f(this,p)}isTorsionFree(){const{h:p,isTorsionFree:y}=t;if(p===j)return!0;if(y)return y(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:y}=t;return p===j?this:y?y(l,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return _e("isCompressed",p),this.assertValidity(),s(l,this,p)}toHex(p=!0){return _e("isCompressed",p),Re(this.toRawBytes(p))}}l.BASE=new l(t.Gx,t.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,g=Nc(l,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}function Mc(e){const t=Es(e);return rt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Oc(e){const t=Mc(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function a(P){return U(P,r)}function i(P){return Wt(P,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Rc({...t,toBytes(P,$,I){const T=$.toAffine(),_=n.toBytes(T.x),z=Je;return _e("isCompressed",I),I?z(Uint8Array.from([$.hasEvenY()?2:3]),_):z(Uint8Array.from([4]),_,n.toBytes(T.y))},fromBytes(P){const $=P.length,I=P[0],T=P.subarray(1);if($===s&&(I===2||I===3)){const _=xe(T);if(!Bt(_,j,n.ORDER))throw new Error("Point is not on curve");const z=f(_);let q;try{q=n.sqrt(z)}catch(Y){const fe=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+fe)}const H=(q&j)===j;return(I&1)===1!==H&&(q=n.neg(q)),{x:_,y:q}}else if($===o&&I===4){const _=n.fromBytes(T.subarray(0,n.BYTES)),z=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:_,y:z}}else throw new Error(`Point of length ${$} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),l=P=>Re(Oe(P,t.nByteLength));function b(P){const $=r>>j;return P>$}function g(P){return b(P)?a(-P):P}const h=(P,$,I)=>xe(P.slice($,I));class p{constructor($,I,T){this.r=$,this.s=I,this.recovery=T,this.assertValidity()}static fromCompact($){const I=t.nByteLength;return $=X("compactSignature",$,I*2),new p(h($,0,I),h($,I,2*I))}static fromDER($){const{r:I,s:T}=oe.toSig(X("DER",$));return new p(I,T)}assertValidity(){Ae("r",this.r,j,r),Ae("s",this.s,j,r)}addRecoveryBit($){return new p(this.r,this.s,$)}recoverPublicKey($){const{r:I,s:T,recovery:_}=this,z=B(X("msgHash",$));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const q=_===2||_===3?I+t.n:I;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=_&1?"03":"02",W=c.fromHex(H+l(q)),Y=i(q),fe=a(-z*Y),Le=a(T*Y),le=c.BASE.multiplyAndAddUnsafe(W,fe,Le);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Me(this.toDERHex())}toDERHex(){return oe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Me(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const y={isValidPrivateKey(P){try{return u(P),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const P=vs(t.n);return Sc(t.randomBytes(P),t.n)},precompute(P=8,$=c.BASE){return $._setWindowSize(P),$.multiply(BigInt(3)),$}};function m(P,$=!0){return c.fromPrivateKey(P).toRawBytes($)}function w(P){const $=$e(P),I=typeof P=="string",T=($||I)&&P.length;return $?T===s||T===o:I?T===2*s||T===2*o:P instanceof c}function v(P,$,I=!0){if(w(P))throw new Error("first arg must be private key");if(!w($))throw new Error("second arg must be public key");return c.fromHex($).multiply(u(P)).toRawBytes(I)}const S=t.bits2int||function(P){const $=xe(P),I=P.length*8-t.nBitLength;return I>0?$>>BigInt(I):$},B=t.bits2int_modN||function(P){return a(S(P))},E=xn(t.nBitLength);function x(P){return Ae(`num < 2^${t.nBitLength}`,P,ae,E),Oe(P,t.nByteLength)}function A(P,$,I=M){if(["recovered","canonical"].some(me=>me in I))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:_}=t;let{lowS:z,prehash:q,extraEntropy:H}=I;z==null&&(z=!0),P=X("msgHash",P),cr(I),q&&(P=X("prehashed msgHash",T(P)));const W=B(P),Y=u($),fe=[x(Y),x(W)];if(H!=null&&H!==!1){const me=H===!0?_(n.BYTES):H;fe.push(X("extraEntropy",me))}const Le=Je(...fe),le=W;function Pt(me){const ke=S(me);if(!d(ke))return;const Pn=i(ke),Ne=c.BASE.multiply(ke).toAffine(),J=a(Ne.x);if(J===ae)return;const Te=a(Pn*a(le+J*Y));if(Te===ae)return;let In=(Ne.x===J?0:2)|Number(Ne.y&j),$n=Te;return z&&b(Te)&&($n=g(Te),In^=1),new p(J,$n,In)}return{seed:Le,k2sig:Pt}}const M={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};function C(P,$,I=M){const{seed:T,k2sig:_}=A(P,$,I),z=t;return bs(z.hash.outputLen,z.nByteLength,z.hmac)(T,_)}c.BASE._setWindowSize(8);function O(P,$,I,T=N){var Ne;const _=P;if($=X("msgHash",$),I=X("publicKey",I),"strict"in T)throw new Error("options.strict was renamed to lowS");cr(T);const{lowS:z,prehash:q}=T;let H,W;try{if(typeof _=="string"||$e(_))try{H=p.fromDER(_)}catch(J){if(!(J instanceof oe.Err))throw J;H=p.fromCompact(_)}else if(typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint"){const{r:J,s:Te}=_;H=new p(J,Te)}else throw new Error("PARSE");W=c.fromHex(I)}catch(J){if(J.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(z&&H.hasHighS())return!1;q&&($=t.hash($));const{r:Y,s:fe}=H,Le=B($),le=i(fe),Pt=a(Le*le),me=a(Y*le),ke=(Ne=c.BASE.multiplyAndAddUnsafe(W,Pt,me))==null?void 0:Ne.toAffine();return ke?a(ke.x)===Y:!1}return{CURVE:t,getPublicKey:m,getSharedSecret:v,sign:C,verify:O,ProjectivePoint:c,Signature:p,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zc(e){return{hash:e,hmac:(t,...n)=>hs(e,t,Ks(...n)),randomBytes:Ys}}function qc(e,t){const n=r=>Oc({...e,...zc(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dc=BigInt(1),Kt=BigInt(2),fr=(e,t)=>(e+t/Kt)/t;function jc(e){const t=xs,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=K(f,n,t)*f%t,l=K(d,n,t)*f%t,b=K(l,Kt,t)*u%t,g=K(b,s,t)*b%t,h=K(g,o,t)*g%t,p=K(h,i,t)*h%t,y=K(p,c,t)*p%t,m=K(y,i,t)*h%t,w=K(m,n,t)*f%t,v=K(w,a,t)*g%t,S=K(v,r,t)*u%t,B=K(S,Kt,t);if(!Yt.eql(Yt.sqr(B),e))throw new Error("Cannot find square root");return B}const Yt=gs(xs,void 0,void 0,{sqrt:jc}),An=qc({a:BigInt(0),b:BigInt(7),Fp:Yt,n:dr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=dr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Dc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),i=fr(o*e,t),c=fr(-r*e,t);let u=U(e-i*n-c*s,t),f=U(-i*r-c*o,t);const d=u>a,l=f>a;if(d&&(u=t-u),l&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Js);BigInt(0);An.ProjectivePoint;const Lc=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:An},Symbol.toStringTag,{value:"Module"}));function Hc({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new An.Signature(Pe(e),Pe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?a:ut(a)}async function Bn(e,t){var d,l,b;const{address:n,factory:r,factoryData:s,hash:o,signature:a,universalSignatureVerifierAddress:i=(b=(l=(d=e.chain)==null?void 0:d.contracts)==null?void 0:l.universalSignatureVerifier)==null?void 0:b.address,...c}=t,u=Ve(a)?a:typeof a=="object"&&"r"in a&&"s"in a?Hc(a):ee(a),f=await(async()=>!r&&!s||rc(u)?u:sc({address:r,data:s,signature:u}))();try{const g=i?{to:i,data:be({abi:Vn,functionName:"isValidSig",args:[n,o,f]}),...c}:{data:nn({abi:Vn,args:[n,o,f],bytecode:Ka}),...c},{data:h}=await F(e,wt,"call")(g);return Xs(h??"0x0")}catch(g){try{if(pn(Qs(n),await Ar({hash:o,signature:a})))return!0}catch{}if(g instanceof Jr)return!1;throw g}}async function Gc(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...a}){const i=fs(n);return Bn(e,{address:t,factory:r,factoryData:s,hash:i,signature:o,...a})}async function Zc(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:a,primaryType:i,types:c,domain:u,...f}=t,d=Wi({message:a,primaryType:i,types:c,domain:u});return Bn(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Uc(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:a,fromBlock:i,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const p=l??!1,y=re(["watchContractEvent",r,s,o,e.uid,a,d,p,i]);return he(y,{onLogs:u,onError:c},m=>{let w;i!==void 0&&(w=i-1n);let v,S=!1;const B=tt(async()=>{var E;if(!S){try{v=await F(e,ns,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:p,fromBlock:i})}catch{}S=!0;return}try{let x;if(v)x=await F(e,Et,"getFilterChanges")({filter:v});else{const A=await F(e,et,"getBlockNumber")({});w&&w<A?x=await F(e,os,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:w+1n,toBlock:A,strict:p}):x=[],w=A}if(x.length===0)return;if(o)m.onLogs(x);else for(const A of x)m.onLogs([A])}catch(x){v&&x instanceof wr&&(S=!1),(E=m.onError)==null||E.call(m,x)}},{emitOnBegin:!0,interval:d});return async()=>{v&&await F(e,xt,"uninstallFilter")({filter:v}),B()}})})():(()=>{const p=l??!1,y=re(["watchContractEvent",r,s,o,e.uid,a,d,p]);let m=!0,w=()=>m=!1;return he(y,{onLogs:u,onError:c},v=>((async()=>{try{const S=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(A=>A.config.type==="webSocket");return x?x.value:e.transport}return e.transport})(),B=a?Qe({abi:n,eventName:a,args:s}):[],{unsubscribe:E}=await S.subscribe({params:["logs",{address:r,topics:B}],onData(x){var M;if(!m)return;const A=x.result;try{const{eventName:N,args:C}=hn({abi:n,data:A.data,topics:A.topics,strict:l}),O=Ie(A,{args:C,eventName:N});v.onLogs([O])}catch(N){let C,O;if(N instanceof We||N instanceof yt){if(l)return;C=N.abiItem.name,O=(M=N.abiItem.inputs)==null?void 0:M.some($=>!("name"in $&&$.name))}const P=Ie(A,{args:O?[]:{},eventName:C});v.onLogs([P])}},onError(x){var A;(A=v.onError)==null||A.call(v,x)}});w=E,m||w()}catch(S){c==null||c(S)}})(),()=>w()))})()}function eu(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Vc(e){var d,l,b;const{scheme:t,statement:n,...r}=((d=e.match(Wc))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:i,requestId:c,...u}=((l=e.match(Kc))==null?void 0:l.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Wc=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Kc=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Yc(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:a=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||t&&!pn(r.address,t))return!1}catch{return!1}return!0}async function Jc(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:a,signature:i,time:c=new Date,...u}=t,f=Vc(s);if(!f.address||!Yc({address:n,domain:r,message:f,nonce:o,scheme:a,time:c}))return!1;const l=fs(s);return Bn(e,{address:f.address,hash:l,signature:i,...u})}function tu(e){return{call:t=>wt(e,t),createBlockFilter:()=>gi(e),createContractEventFilter:t=>ns(e,t),createEventFilter:t=>rs(e,t),createPendingTransactionFilter:()=>ss(e),estimateContractGas:t=>vi(e,t),estimateGas:t=>an(e,t),getBalance:t=>Nr(e,t),getBlobBaseFee:()=>Ei(e),getBlock:t=>te(e,t),getBlockNumber:t=>et(e,t),getBlockTransactionCount:t=>$i(e,t),getBytecode:t=>er(e,t),getChainId:()=>Ir(e),getCode:t=>er(e,t),getContractEvents:t=>os(e,t),getEip712Domain:t=>Ti(e,t),getEnsAddress:t=>ni(e,t),getEnsAvatar:t=>yi(e,t),getEnsName:t=>bi(e,t),getEnsResolver:t=>mi(e,t),getEnsText:t=>ts(e,t),getFeeHistory:t=>_i(e,t),estimateFeesPerGas:t=>ko(e,t),getFilterChanges:t=>Et(e,t),getFilterLogs:t=>Ri(e,t),getGasPrice:()=>on(e),getLogs:t=>bn(e,t),getProof:t=>ic(e,t),estimateMaxPriorityFeePerGas:t=>So(e,t),getStorageAt:t=>Mi(e,t),getTransaction:t=>mn(e,t),getTransactionConfirmations:t=>Oi(e,t),getTransactionCount:t=>Tr(e,t),getTransactionReceipt:t=>Zt(e,t),multicall:t=>zi(e,t),prepareTransactionRequest:t=>Cr(e,t),readContract:t=>de(e,t),sendRawTransaction:t=>Oo(e,t),simulateContract:t=>uc(e,t),verifyMessage:t=>Gc(e,t),verifySiweMessage:t=>Jc(e,t),verifyTypedData:t=>Zc(e,t),uninstallFilter:t=>xt(e,t),waitForTransactionReceipt:t=>cc(e,t),watchBlocks:t=>Di(e,t),watchBlockNumber:t=>as(e,t),watchContractEvent:t=>Uc(e,t),watchEvent:t=>ji(e,t),watchPendingTransactions:t=>Li(e,t)}}export{Da as C,Nr as a,mn as b,Br as c,rn as d,Po as e,F as f,eu as g,Ir as h,Pr as i,Cr as j,Mo as k,be as l,zi as m,Ye as n,wt as o,tu as p,qa as q,de as r,Oo as s,pn as t,qe as u,cc as w};
